<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Statspro - showing poverty rate</title>
  <meta name="description" content="showing poverty rate of people living below $1 in Nigeria from 2004 to 2019">
  <meta name="author" content="Eyitene Solomon, Emmanuel Adekeye, Michael Abah">

  <!-- font -->
  <link href="https://fonts.googleapis.com/css?family=Nunito|Playfair+Display&display=swap" rel="stylesheet">


<!-- styling -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
  integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link href="css/jsmaps.css" rel="stylesheet" type="text/css" />

  <link rel="stylesheet" href="css/style.css">
  
  <!-- End Map scripts -->
  
</head>

<body>
  
    <div id="app">
      <!-- Navigation -->
      <nav class="navigation">
        <div class="container">
          <div class="navigation_wrap">
            <a href="index.html" class="Navigation-brand"><img src="images/statpro logo-01.png" alt="Logo"></a>
            <ul class="navigation_menu">
              <li><a href="">Data Portal</a></li>
              <li><a href="">FAQ</a></li>
              <li><a href="">Instruction</a></li>
            </ul>
          </div>
        </div>
        
      </nav>


      <!-- Hero -->
      <section id="hero" class="hero-section">
          <h1 class="primary-heading">Nigerian statistics</h1>
          <p class="sub-heading text">showing statistics of people living under $1 from <br> 2001-2019</p>
      </section>

      <!-- Brief info before chart -->

      <div class="container">
          <div class="brief-info">
              By selecting a state on the map you are shown the statistical information for that particular state
          </div>
      </div>
      <!-- Map and Chart -->

      <section id="map-chart">
                      <div class="flex-shit">
                          <div class="map-wrapper">
                              <div class="jsmaps-wrapper" id="nigeria-map"></div>
                       
                       </div>
                   
                   
                       <div class="chart-wrapper">
                           <h2 class="chart-heading">Nigeria</h2>
                           <p class="text">People living under $1 in Nigeria</p>
                           
                           <div class="chart">
                             <canvas id="myChart"  height="200"></canvas>                            
                           </div>
 
                           <div class="p-4">
                             <button class="bn btn-outline-light mapper">compare statistics</button>
                           </div>
                       </div>
                      </div>
      </section>
  </div>

  <!-- <div class="chartVp--min-details">
  </div> -->

  <script src="https://code.jquery.com/jquery-3.2.1.min.js" type="text/javascript"></script>
  <script src="js/vendor/jsmaps-libs.js" type="text/javascript"></script>
  <!-- <script src="js/vendor/jsmaps-panzoom.js"></script> -->
  <script src="js/vendor/jsmaps.min.js" type="text/javascript"></script>
  <script src="js/vendor/nigeria.js" type="text/javascript"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
 <!-- Chart js -->
 <script>



// point color;

let dummy = {
  nigeria: {
    '2019': '10',
    '2016': '80',
    '2015': '60',
    '2014': '40',
    '2013': '20',
  },
  kaduna: {
    '2019': '70',
    '2016': '55',
    '2015': '60',
    '2014': '40',
    '2013': '20',
  },
  kogi: {
    '2019': '10%',
    '2016': '55%',
    '2015': '60%',
    '2014': '40%',
    '2013': '20%',
  }

}

// console.log(dummy.Nigeria);


let data = Object.values(dummy.nigeria);
let pointColor= data.map(item => {
    return '#A6CEE3'
});
let dataSetType= Object.keys(dummy.nigeria);


let generateChart = (state)=>{
  data = Object.values(dummy[state]);
  dataSetType = Object.keys(dummy[state]);
  startChart();
}


let btn = document.querySelector('.mapper');
btn.addEventListener('click', () => {
  let state = 'kaduna';
  generateChart(state);
});
// let state = 'kaduna';



let startChart = ()=>{

  var ctx = document.getElementById('myChart').getContext('2d');
  var myChart = new Chart(ctx, {
     type: 'line',
     data: {
         labels: dataSetType,
         datasets: [{
           label: '# of Votes',
             data: data,
             backgroundColor: [
                 'rgba(0,0,0,.0)',
                
               ],
             borderColor: '#15B6DA',
             pointBackgroundColor: pointColor,
             borderWidth: 1
         }]
     },
     options: {
         scales: {
             yAxes: [{
                 ticks: {
                     beginAtZero: true,
                     max: 100
                 }
             }]
         }
     }
 });
}

startChart();
  </script>



















 
<!-- Map js -->

  <script type="text/javascript">

    $(function() {
      
      $('#nigeria-map').JSMaps({
        map: 'nigeria',
        onStateClick: function(data){
          console.log(data.name);
        }

      });

    });
    
  </script>
  
</body>

</html>